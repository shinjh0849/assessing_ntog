assertThat ( testee . getCurrentVersion ( ) ) . contains ( CURRENT_VERSION )
assertThat ( channel . basicGet ( queueName , ! AUTO_ACK ) ) . isNotNull ( )
assertThat ( countDownLatch . await ( 10 , TimeUnit . SECONDS ) ) . isTrue ( )
assertThat ( testee . addListener ( KEY_1 , listener ) . isFirstListener ( ) ) . isTrue ( )
assertThat ( testee . addListener ( KEY_1 , listener2 ) . isFirstListener ( ) ) . isFalse ( )
assertThat ( registration . unregister ( ) . lastListenerRemoved ( ) ) . isFalse ( )
assertThat ( registration . unregister ( ) . lastListenerRemoved ( ) ) . isTrue ( )
assertThatListenerReceiveOneEvent ( listener )
assertThatListenerReceiveOneEvent ( listener )
assertThatListenerReceiveOneEvent ( listener )
assertThatListenerReceiveOneEvent ( listener )
assertThat ( dispatchingFailureEvents ( ) ) . containsOnly ( EVENT )
assertThat ( Mono . from ( mailboxManager . hasInbox ( session ) ) . block ( ) ) . isFalse ( )
assertThat ( Mono . from ( mailboxManager . hasInbox ( session ) ) . block ( ) ) . isTrue ( )
assertThatCode ( ( ) -> mailboxManager . createMailbox ( MailboxPath . forUser ( USER_1 , mailboxName ) , session ) ) . doesNotThrowAnyException ( )
assertThat ( mailboxManager . getAllAnnotations ( inbox , session ) ) . containsOnly ( privateAnnotationUpdate )
assertThat ( Mono . from ( mailboxManager . mailboxExists ( inbox , session ) ) . block ( ) ) . isFalse ( )
assertThat ( Mono . from ( mailboxManager . mailboxExists ( inbox , session ) ) . block ( ) ) . isTrue ( )
assertThat ( Mono . from ( mailboxManager . mailboxExists ( inboxSubMailbox , session ) ) . block ( ) ) . isTrue ( )
assertThat ( mailboxManager . list ( session ) ) . hasSize ( DataProvisioner . EXPECTED_MAILBOXES_COUNT )
assertThat ( Mono . from ( mailboxManager . mailboxExists ( trash , session ) ) . block ( ) ) . isTrue ( )
assertThat ( Mono . from ( mailboxManager . mailboxExists ( nestedFolder , session ) ) . block ( ) ) . isTrue ( )
assertThat ( testee . getValue ( ) ) . contains ( bufferContent )
assertThat ( cassandraACLMapper ( ) . getACL ( MAILBOX_ID ) . blockOptional ( ) ) . isEmpty ( )
assertThat ( cassandraACLMapper ( ) . getACL ( MAILBOX_ID ) . blockOptional ( ) ) . isEmpty ( )
assertThat ( cassandraACLMapper ( ) . getACL ( MAILBOX_ID ) . blockOptional ( ) . orElse ( MailboxACL . EMPTY ) ) . isEqualTo ( MailboxACL . EMPTY )
assertThat ( result ) . containsOnly ( id1 )
assertThat ( result ) . hasSize ( 5 )
assertThat ( UserQuotaThresholds . Id . fromKey ( id . asAggregateKey ( ) ) ) . isEqualTo ( id )
assertThatThrownBy ( ( ) -> UserQuotaThresholds . Id . fromKey ( "1/2/3/4" ) ) . isInstanceOf ( IllegalArgumentException . class )
assertThat ( lessThanQuery . getQuotaBoundary ( ) ) . isEqualTo ( _50 )
assertThat ( Flux . from ( messageManager2 . search ( query , session ) ) . toStream ( ) ) . hasSize ( 1 )
assertThat ( messageIdManager . getMessage ( messageId , FetchGroup . MINIMAL , session ) ) . hasSize ( 1 )
assertThat ( Flux . from ( messageManager1 . search ( searchQuery , session ) ) . toStream ( ) ) . isEmpty ( )
assertThat ( messageMailboxIds ) . containsOnly ( aliceMailbox1 . getMailboxId ( ) , aliceMailbox3 . getMailboxId ( ) )
assertThat ( messageIdManager . getMessage ( messageId , FetchGroup . MINIMAL , bobSession ) ) . hasSize ( 1 )
assertThat ( actual . getACL ( ) . getEntries ( ) ) . containsKeys ( MailboxACL . EntryKey . createUserEntryKey ( BOB ) , MailboxACL . EntryKey . createUserEntryKey ( CEDRIC ) )
assertThat ( iterator . next ( ) ) . isNotNull ( )
assertThat ( annotationMapper . getAnnotationsByKeysWithOneDepth ( mailboxId , ImmutableSet . < MailboxAnnotationKey > of ( ) ) ) . isEmpty ( )
assertThat ( mailboxMapper . updateACL ( benwaInboxMailbox , aclCommand ) . block ( ) ) . isEqualTo ( expectAclDiff )
assertThat ( benwaInboxMailbox . getMailboxId ( ) ) . isNotNull ( )
assertThat ( mailboxMapper . findMailboxById ( mailboxId ) . block ( ) ) . isEqualTo ( benwaWorkMailbox )
assertThat ( mailboxMapper . hasChildren ( benwaInboxMailbox , DELIMITER ) . block ( ) ) . isTrue ( )
assertThat ( mailboxes ) . containsOnly ( benwaInboxMailbox . getMailboxId ( ) )
assertThat ( mailboxes ) . containsOnly ( benwaInboxMailbox . getMailboxId ( ) , benwaWorkMailbox . getMailboxId ( ) )
assertThat ( mailboxes ) . containsOnly ( benwaInboxMailbox . getMailboxId ( ) , benwaInboxMailbox . getMailboxId ( ) )
assertThat ( mailboxes ) . containsOnly ( benwaInboxMailbox . getMailboxId ( ) , benwaWorkMailbox . getMailboxId ( ) )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 0 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 1 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 0 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 1 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 0 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 1 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 0 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 4 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 5 )
assertThat ( messageMapper . getMailboxCounters ( benwaInboxMailbox ) . getUnseen ( ) ) . isEqualTo ( 4 )
assertThat ( messageMapper . findRecentMessageUidsInMailbox ( benwaInboxMailbox ) ) . containsOnly ( message4 . getUid ( ) )
assertThat ( messageMapper . findRecentMessageUidsInMailbox ( benwaInboxMailbox ) ) . containsOnly ( message2 . getUid ( ) , message4 . getUid ( ) )
assertThat ( messageMapper . findFirstUnseenMessageUid ( benwaInboxMailbox ) ) . isNull ( )
assertThat ( messageMapper . findFirstUnseenMessageUid ( benwaInboxMailbox ) ) . isEqualTo ( message2 . getUid ( ) )
assertThat ( messageMapper . getLastUid ( benwaInboxMailbox ) . get ( ) ) . isGreaterThan ( uid )
assertThat ( retrieveMessageFromStorage ( message1 ) ) . hasFlags ( new Flags ( Flags . Flag . FLAGGED ) )
assertThat ( retrieveMessageFromStorage ( message1 ) ) . hasFlags ( new Flags ( Flags . Flag . FLAGGED ) )
assertThat ( retrieveMessageFromStorage ( message1 ) ) . hasFlags ( new Flags ( USER_FLAG ) )
assertThat ( movedMessageMetaData . get ( 0 ) . getSaveDate ( ) ) . isNotEqualTo ( originalMessage . getSaveDate ( ) )
assertThat ( retrieveMessageFromStorage ( benwaWorkMailbox , message1 ) . getUid ( ) ) . isEqualTo ( message1 . getUid ( ) )
assertThat ( retrievedMessageIterator . next ( ) . getAttachments ( ) ) . isEmpty ( )
assertThat ( retrievedMessageIterator . next ( ) . getAttachments ( ) ) . isEmpty ( )
assertThat ( maxQuotaManager . getMaxMessage ( QUOTA_ROOT ) ) . contains ( QuotaCountLimit . count ( 23 ) )
assertThat ( maxQuotaManager . getMaxStorage ( QUOTA_ROOT ) ) . contains ( QuotaSizeLimit . size ( 36 ) )
assertThat ( maxQuotaManager . getMaxMessage ( QUOTA_ROOT ) ) . contains ( QuotaCountLimit . count ( 36 ) )
assertThat ( maxQuotaManager . getMaxStorage ( QUOTA_ROOT ) ) . contains ( QuotaSizeLimit . size ( 36 ) )
assertThat ( actual ) . containsOnly ( mOther . getMessageId ( ) , m6 . getMessageId ( ) )
assertThat ( actual ) . containsOnly ( m6 . getMessageId ( ) )
assertThat ( actual ) . hasSize ( 1 )
assertThat ( results ) . containsOnly ( subscription )
assertThat ( information . failures ( ) . mailboxFailures ( ) ) . containsExactly ( mailbox . getId ( ) )
assertThat ( information . failures ( ) . mailboxFailures ( ) ) . containsExactly ( mailbox . getId ( ) )
assertThat ( mailet . getMailetInfo ( ) ) . isEqualTo ( "AmqpForwardAttribute" )
assertThat ( mail . attributes ( ) ) . isEmpty ( )
assertThat ( mail . attributesMap ( ) ) . isEqualTo ( ImmutableMap . of ( ATTRIBUTE_NAME_1 , ATTRIBUTE_1 ) )
assertThat ( mail . getAttribute ( KEY ) ) . isNull ( )
assertThat ( mail . getAttribute ( KEY ) ) . isEqualTo ( NEW_VALUE )
assertThat ( mail . getAttribute ( KEY ) ) . isNull ( )
assertThat ( Ret . parse ( "unknown" ) ) . isEmpty ( )
assertThat ( Ret . parse ( "HdrS" ) ) . contains ( Ret . HDRS )
assertThat ( mailet . getMailetInfo ( ) ) . isEqualTo ( "ContactExtractor Mailet" )
assertThat ( mail . getMessage ( ) . getHeader ( "Expires" ) ) . isNullOrEmpty ( )
assertThat ( mail . getState ( ) ) . isEqualTo ( "ghost" )
assertThat ( mail . getRecipients ( ) ) . isEmpty ( )
assertThat ( mail . getRecipients ( ) ) . containsOnly ( MailAddressFixture . ANY_AT_JAMES )
assertThat ( mail . getRecipients ( ) ) . containsOnly ( otherDomainPostmaster )
assertThat ( mail . getRecipients ( ) ) . containsOnly ( postmaster )
assertThat ( message . getSubject ( ) ) . isEqualTo ( expectedSubject )
assertNull ( matchedRecipients )
assertThat ( actual ) . containsOnly ( RECIPIENT1 )
assertThat ( fakeMail . getMessage ( ) . getHeader ( FetchedFrom . X_FETCHED_FROM ) ) . isNull ( )
assertThat ( testee . match ( mail ) ) . containsAll ( mail . getRecipients ( ) )
assertThat ( testee . match ( mail ) ) . containsAll ( mail . getRecipients ( ) )
assertThat ( matcher . match ( mockedMail ) ) . containsAll ( mockedMail . getRecipients ( ) )
assertThat ( matcher . getMatcherConfig ( ) ) . isNotNull ( )
assertNull ( matchedRecipients )
assertThat ( matcher . match ( mail ) ) . hasSize ( 2 )
assertThat ( testee . match ( mail ) ) . containsOnly ( mailAddress1 )
assertThat ( testee . match ( FakeMail . defaultFakeMail ( ) ) ) . isEmpty ( )
assertThat ( results ) . containsOnly ( recipient )
assertNull ( matchedRecipients )
assertThat ( senderHosts ) . containsOnly ( Domain . of ( "james.apache.org" ) )
assertThat ( results ) . containsOnly ( recipient )
assertThat ( selectedMailbox . getApplicableFlags ( ) . getUserFlags ( ) ) . containsOnly ( CUSTOM_FLAG )
assertThat ( SMTPReply . isNegativePermanent ( client . getReplyCode ( ) ) ) . as ( "Reply=" + client . getReplyString ( ) ) . isTrue ( )
assertThat ( SMTPReply . isNegativeTransient ( client . getReplyCode ( ) ) ) . as ( "Reply=" + client . getReplyString ( ) ) . isTrue ( )
assertThat ( HookReturnCode . deny ( ) ) . describedAs ( "Rejected.. To many recipients" ) . isEqualTo ( resp )
assertThat ( HookReturnCode . declined ( ) ) . describedAs ( "Not blocked cause its a nullsender" ) . isEqualTo ( response )
assertThatServerStartCorrectly ( server )
assertThat ( CmdType . lookup ( "adduser" ) ) . isEqualTo ( CmdType . ADDUSER )
assertThat ( CmdType . lookup ( "adddomain" ) ) . isEqualTo ( CmdType . ADDDOMAIN )
assertThat ( CmdType . lookup ( "listdomains" ) ) . isEqualTo ( CmdType . LISTDOMAINS )
assertThat ( CmdType . lookup ( "addaddressmapping" ) ) . isEqualTo ( CmdType . ADDADDRESSMAPPING )
assertThat ( CmdType . lookup ( "removeregexmapping" ) ) . isEqualTo ( CmdType . REMOVEREGEXMAPPING )
assertThat ( CmdType . lookup ( "deleteusermailboxes" ) ) . isEqualTo ( CmdType . DELETEUSERMAILBOXES )
assertThat ( CmdType . lookup ( "deletemailbox" ) ) . isEqualTo ( CmdType . DELETEMAILBOX )
assertThat ( CmdType . lookup ( "getglobalmaxmessagecountquota" ) ) . isEqualTo ( CmdType . GETGLOBALMAXMESSAGECOUNTQUOTA )
assertThat ( CmdType . lookup ( "getmaxstoragequota" ) ) . isEqualTo ( CmdType . GETMAXSTORAGEQUOTA )
assertThat ( CmdType . lookup ( "" ) ) . isNull ( )
assertThat ( CmdType . CREATEMAILBOX . getUsage ( ) ) . isEqualTo ( "CreateMailbox <namespace> <user> <name>" )
assertThat ( imapClient . login ( DockerLdapSingleton . JAMES_USER . asString ( ) , DockerLdapSingleton . PASSWORD ) ) . isTrue ( )
assertThat ( getServerConnectionResponse ( socketChannel ) ) . startsWith ( "220 Apache JAMES awesome SMTP Server" )
assertThat ( mail . getMessage ( ) . getMessageID ( ) ) . isEqualTo ( emptyMessage . getMessageID ( ) )
assertThatThrownBy ( ( ) -> MailImpl . deriveNewName ( called6Times ) ) . isInstanceOf ( MessagingException . class )
assertThat ( testee . getInputStream ( ) ) . hasSameContentAs ( new ZeroedInputStream ( _1M ) )
assertThat ( getCleanedMessageSource ( m ) ) . isEqualTo ( getSimpleMessageCleanedSource ( ) )
assertThatThrownBy ( ( ) -> mw . getSubject ( ) ) . isInstanceOf ( IllegalStateException . class )
assertThat ( mw . getSize ( ) ) . isEqualTo ( body . length ( ) )
assertThat ( mw . getSize ( ) ) . isEqualTo ( body . length ( ) )
assertThat ( wrapper . getEncoding ( ) ) . isEqualTo ( "\"base64\"" )
assertThat ( new SimpleUrl ( "" ) . getSimplified ( ) ) . isEmpty ( )
assertThat ( new SimpleUrl ( "/abcd/ef/gh" ) . getSimplified ( ) ) . isEqualTo ( "/abcd/ef/gh" )
assertThat ( new SimpleUrl ( "file:///home/user/./foo/../.bar/baz" ) . getSimplified ( ) ) . isEqualTo ( "file:///home/user/.bar/baz" )
assertThat ( new SimpleUrl ( "file:../.././foo/../.bar/baz" ) . getSimplified ( ) ) . isEqualTo ( "file:../../.bar/baz" )
assertThat ( file . getPath ( ) ) . isEmpty ( )
assertThat ( sut . get ( ) ) . hasSize ( 1 )
assertThat ( guiceProbeProvider . getProbe ( GuiceProbe1 . class ) ) . isEqualTo ( guiceProbe1 )
assertThat ( atomicBoolean . get ( ) ) . isFalse ( )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . isEmpty ( )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . isEmpty ( )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . containsExactly ( mailbox )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . isEmpty ( )
assertThat ( mailboxManagerManagement . listMailboxes ( USER . asString ( ) ) ) . containsOnly ( "name2" , "name4" , "INBOX" , "INBOX.toto" )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . containsOnly ( mailbox )
assertThat ( mapperFactory . createMailboxMapper ( session ) . list ( ) . collectList ( ) . block ( ) ) . containsOnly ( mailbox )
assertThat ( FunctionalUtils . identityPredicate ( ) . test ( true ) ) . isTrue ( )
assertThat ( recordedExceptions ) . hasSize ( 1 )
assertThat ( canceled . get ( ) ) . isTrue ( )
assertThatThrownBy ( ( ) -> DLPConfigurationItem . Id . of ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThat ( Mapping . address ( "abc@d" ) . appendDomainIfNone ( ( ) -> Domain . of ( "domain" ) ) ) . isEqualTo ( Mapping . address ( "abc@d" ) )
assertThat ( Mapping . error ( "abc" ) . getType ( ) ) . isEqualTo ( Mapping . Type . Error )
assertThat ( Mapping . forward ( "abc" ) . getType ( ) ) . isEqualTo ( Mapping . Type . Forward )
assertThat ( Mapping . error ( "" ) . getErrorMessage ( ) ) . isEqualTo ( "" )
assertThat ( separator ) . isEqualTo ( "," )
assertThat ( ImmutableList . copyOf ( usersLDAPRepository . list ( ) ) ) . isEmpty ( )
assertThat ( testee ( ) . isAdministrator ( testSystem . getAdmin ( ) ) ) . isTrue ( )
assertThat ( usersRepository . contains ( usersRepository . getUsername ( JAMES_USER_MAIL . asMailAddress ( ) ) ) ) . isTrue ( )
assertThat ( domainList . getDefaultDomain ( ) ) . isEqualTo ( Domain . of ( expectedDefaultDomain ) )
assertThat ( domainList . getDomains ( ) ) . containsOnly ( domain )
assertThat ( domainList . containsDomain ( Domain . of ( envDomain ) ) ) . isTrue ( )
assertThat ( actual ) . containsOnly ( Mapping . address ( "value" ) )
assertThat ( actual ) . containsOnly ( Mapping . address ( "value1" ) )
assertThat ( actual ) . containsOnly ( Mapping . address ( "value1" ) , Mapping . address ( "" ) , Mapping . address ( "value2" ) )
assertThat ( actual ) . containsOnly ( Mapping . address ( "value1" ) , Mapping . address ( "value2" ) )
assertThat ( actual ) . containsOnly ( Mapping . address ( "value1:value1" ) , Mapping . address ( "value2" ) )
assertThat ( actual ) . containsOnly ( Mapping . domain ( Domain . of ( "test" ) ) )
assertThat ( actual ) . containsOnly ( Mapping . regex ( "test" ) )
assertThat ( mappings . select ( Mapping . Type . Domain ) ) . isEqualTo ( MappingsImpl . empty ( ) )
assertThat ( testIMAPClient . readFirstMessage ( ) ) . isNotNull ( )
assertThat ( testIMAPClient . readFirstMessage ( ) ) . isNotNull ( )
assertThat ( testIMAPClient . readFirstMessage ( ) ) . isNotNull ( )
assertThat ( mailetConfiguration . matcherWithCondition ( ) ) . isEqualTo ( "org.apache.james.transport.matchers.All" )
assertThat ( testIMAPClient . readFirstMessage ( ) ) . containsSequence ( "Crypted content" )
assertThat ( mail . getState ( ) ) . isEqualTo ( initialState )
assertThat ( dsnBounce . getTo ( ) ) . containsOnly ( SpecialAddress . REVERSE_PATH . toInternetAddress ( ) . get ( ) )
assertThat ( mailSample . getState ( ) ) . isEqualTo ( "newState" )
assertThat ( mail . getAttribute ( RESULT_ATTRIBUTE ) . isEmpty ( ) ) . isTrue ( )
assertThat ( mail . getState ( ) ) . isEqualTo ( Mail . GHOST )
assertThat ( Delay . from ( "36" ) ) . isEqualTo ( new Delay ( Delay . DEFAULT_ATTEMPTS , Duration . ofMillis ( 36 ) ) )
assertThat ( Delay . from ( "2 * 36 s" ) ) . isEqualTo ( new Delay ( 2 , Duration . ofSeconds ( 36 ) ) )
assertThat ( executionResult ) . isEqualTo ( ExecutionResult . temporaryFailure ( sfe ) )
assertThat ( executionResult ) . isEqualTo ( ExecutionResult . permanentFailure ( sfe ) )
assertThat ( executionResult ) . isEqualTo ( ExecutionResult . permanentFailure ( sfe ) )
assertThat ( executionResult ) . isEqualTo ( ExecutionResult . temporaryFailure ( sfe ) )
assertThat ( executionResult ) . isEqualTo ( ExecutionResult . temporaryFailure ( sfe ) )
assertThat ( mail . getRecipients ( ) ) . containsOnly ( MailAddressFixture . OTHER_AT_JAMES )
assertThat ( mail . getRecipients ( ) ) . containsOnly ( MailAddressFixture . OTHER_AT_JAMES )
assertThat ( executionResult . getExecutionState ( ) ) . isEqualTo ( ExecutionResult . ExecutionState . TEMPORARY_FAILURE )
assertThat ( executionResult . getExecutionState ( ) ) . isEqualTo ( ExecutionResult . ExecutionState . PERMANENT_FAILURE )
assertThat ( mail . getState ( ) ) . isEqualTo ( Mail . GHOST )
assertThat ( original . getSubject ( ) ) . isEqualTo ( subject )
assertThat ( condition ) . isEqualTo ( new Condition . OperatorCondition ( Operator . CONTAINS , "matchme" ) )
assertThatJson ( json ) . isEqualTo ( "{\"operator\":\"contains\", \"matchingValue\":\"matchme\"}" )
assertThat ( response ) . isEqualTo ( new Response ( Response . SMTPStatusCode . of ( 250 ) , "OK" ) )
assertThatJson ( json ) . isEqualTo ( "{\"code\":250, \"message\":\"OK\"}" )
assertThat ( testee . store ( URL , KEY_1 ) . block ( ) ) . isTrue ( )
assertThat ( mailboxProbe . listSubscriptions ( username . asString ( ) ) ) . contains ( DefaultMailboxes . INBOX + ".foo" )
assertThat ( signatureHandler . verify ( SOURCE , signatureHandler . sign ( SOURCE ) ) ) . isTrue ( )
assertThat ( tokenManager . getValidity ( pirateContinuationToken ) ) . isEqualTo ( TokenStatus . INVALID )
assertThat ( tokenManager . getValidity ( pirateContinuationToken ) ) . isEqualTo ( TokenStatus . INVALID )
assertThat ( tokenManager . getValidity ( continuationToken ) ) . isEqualTo ( TokenStatus . EXPIRED )
assertThat ( tokenManager . isValid ( AttachmentAccessToken . from ( serializedToken , blobId ) ) ) . isTrue ( )
assertThat ( result . getDate ( ) ) . isEqualToIgnoringMillis ( Date . from ( now ) )
assertThat ( result . getBody ( ) ) . isEqualToComparingOnlyGivenFields ( expected , "content" , "charset" )
assertThatThrownBy ( ( ) -> sut . assertIsUserOwnerOfMailboxes ( ImmutableList . of ( mailboxId ) , session ) . block ( ) )
assertThat ( tested . isInlinedWithCid ( ) ) . isTrue ( )
assertThatThrownBy ( ( ) -> BlobId . of ( "" ) ) . isInstanceOf ( IllegalArgumentException . class )
assertThat ( sut . validate ( ) ) . extracting ( ValidationResult :: getErrorMessage ) . contains ( "no recipient address set" )
assertThat ( sut . validate ( ) ) . isEmpty ( )
assertThat ( filterCondition . getInMailboxes ( ) ) . contains ( ImmutableList . of ( "1" , "2" ) )
assertThat ( asProtocolSpecification ) . hasSize ( 3 )
assertThat ( keyword . getFlagName ( ) ) . isEqualTo ( maxLengthFlagName )
assertThat ( HeaderProperty . fromFieldName ( "FiElD" ) ) . isEqualTo ( HeaderProperty . fromFieldName ( "field" ) )
assertThat ( HeaderProperty . valueOf ( "headers.prop" ) ) . isNotEqualTo ( HeaderProperty . valueOf ( "headers.other" ) )
assertThatThrownBy ( ( ) -> MethodCallId . of ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThat ( emptyBuilder . build ( ) ) . isEqualToComparingFieldByField ( testee )
assertThatThrownBy ( ( ) -> VacationResponse . builder ( ) . subject ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThatThrownBy ( ( ) -> VacationResponse . builder ( ) . textBody ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThatThrownBy ( ( ) -> MailboxCreateRequest . builder ( ) . role ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThatThrownBy ( ( ) -> MailboxCreateRequest . builder ( ) . sortOrder ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThatThrownBy ( ( ) -> MailboxCreateRequest . builder ( ) . name ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThat ( mailbox . getParentId ( ) ) . isEmpty ( )
assertThat ( mailbox . getTotalMessages ( ) ) . isEqualTo ( Number . ZERO )
assertThatThrownBy ( ( ) -> SortOrder . of ( - 1 ) ) . isInstanceOf ( IllegalArgumentException . class )
assertThat ( actual . getMail ( ) . getName ( ) ) . isEqualTo ( NAME )
assertThat ( criteria ) . containsExactly ( SearchQuery . address ( AddressType . From , from ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . hasAttachment ( ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . attachmentContains ( attachments ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . sentDateAfter ( Date . from ( after . toInstant ( ) ) , DateResolution . Second ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . flagIsSet ( Flag . FLAGGED ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . flagIsUnSet ( Flag . SEEN ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . flagIsUnSet ( Flag . DRAFT ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . sizeLessThan ( maxSize ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . headerExists ( headerName ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . headerContains ( headerName , headerValue ) )
assertThat ( criteria ) . containsExactly ( SearchQuery . flagIsSet ( Flag . FLAGGED ) )
assertThat ( textExtractor . toPlainText ( textWithoutHtml ) ) . isEqualTo ( textWithoutHtml )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( textExtractor . toPlainText ( html ) ) . isEqualTo ( expectedPlainText )
assertThat ( mailboxManager . list ( session ) ) . contains ( MailboxPath . forUser ( USERNAME , DefaultMailboxes . SPAM ) )
assertThat ( results ) . containsOnly ( recipient )
assertThat ( testServer . isEnabled ( ) ) . isFalse ( )
assertThat ( guiceJamesServer . getProbe ( MailboxProbeImpl . class ) . listUserMailboxes ( USERNAME ) ) . isEmpty ( )
assertThatThrownBy ( ( ) -> jsonExtractor . parse ( null ) ) . isInstanceOf ( NullPointerException . class )
assertThatThrownBy ( ( ) -> jsonExtractor . parse ( "{}" ) ) . isInstanceOf ( JsonExtractException . class )
assertThat ( delegatedUserList ) . containsOnly ( ANDRE . asString ( ) , BOB . asString ( ) )
assertThat ( users ) . containsExactly ( ImmutableMap . of ( "username" , USERNAME_WITH_DOMAIN . asString ( ) ) )
assertThat ( allowedFroms ) . containsExactly ( USERNAME_WITH_DOMAIN . asString ( ) )
assertThat ( maxQuotaManager . getDomainMaxStorage ( FOUND_LOCAL ) ) . contains ( QuotaSizeLimit . size ( 42 ) )
assertThat ( deadLetters . failedIds ( new EventBusTestFixture . GroupA ( ) ) . collectList ( ) . block ( ) ) . isEmpty ( )
assertThat ( maxQuotaManager . getGlobalMaxMessage ( ) ) . contains ( QuotaCountLimit . unlimited ( ) )
assertThat ( maxQuotaManager . getMaxMessage ( userQuotaRootResolver . forUser ( BOB ) ) ) . contains ( QuotaCountLimit . unlimited ( ) )
assertThat ( maxQuotaManager . getMaxStorage ( userQuotaRootResolver . forUser ( BOB ) ) ) . contains ( QuotaSizeLimit . size ( 42 ) )
assertThat ( maxQuotaManager . getMaxStorage ( userQuotaRootResolver . forUser ( BOB ) ) ) . isEmpty ( )
assertThat ( Files . getFileExtension ( getFileUrl ( ) ) ) . isEqualTo ( FileExtension . ZIP . getExtension ( ) )
assertThat ( actual ) . containsOnly ( FIRST_QUEUE . asString ( ) )
assertThat ( Mono . from ( testee . check ( ) ) . block ( ) . isUnHealthy ( ) ) . isTrue ( )
assertThat ( queue2 . get ( ) ) . isSameAs ( queue1 )
assertThat ( actual . getSliceWindow ( ) ) . isEqualTo ( Duration . ofMinutes ( 20 ) )
assertThatThrownBy ( ( ) -> TaskType . of ( null ) ) . isInstanceOf ( IllegalArgumentException . class )
assertThat ( taskManager ( HOSTNAME_2 ) . getExecutionDetails ( taskId ) . getStatus ( ) ) . isEqualTo ( CANCELLED )
assertThat ( listener . isMessageMovedToSpamMailbox ( messageMoveEvent ) . block ( ) ) . isFalse ( )
assertThat ( listener . isMessageMovedOutOfSpamMailbox ( messageMoveEvent ) . block ( ) ) . isFalse ( )
assertThat ( listener . isMessageMovedOutOfSpamMailbox ( messageMoveEvent ) . block ( ) ) . isFalse ( )
assertThat ( mailet . requiredProcessingState ( ) ) . containsOnly ( new ProcessingState ( "virus" ) )
assertThat ( mail . getState ( ) ) . isEqualTo ( "virus" )
assertThat ( mail . getState ( ) ) . isNull ( )
assertThat ( analysisResult . hasVirus ( ) ) . isTrue ( )
assertThat ( result . getHits ( ) ) . isNotEqualTo ( SpamAssassinResult . NO_RESULT )
